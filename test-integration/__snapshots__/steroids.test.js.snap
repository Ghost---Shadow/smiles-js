// Bun Snapshot v1, https://bun.sh/docs/test/snapshots

exports[`Cortisone Integration Test parses cortisone 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            "=",
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            "=",
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 10,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 9,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "1": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "2": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
  ],
  "type": "molecule",
}
`;

exports[`Cortisone Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 6, bonds: [null, null, null, null, '=', null] });
v2.metaPositions = [1, 2, 3, 4, 6, 7];
v2.metaStart = 1;
v2.metaEnd = 7;
v2.attachments = { 4: [Linear(['O'], ['='])] };
export const v4 = Ring({ atoms: 'C', size: 10, ringNumber: 2, bonds: [null, null, null, null, '=', null, null, null, null, null] });
v4.metaPositions = [1, 2, 3, 4, 6, 7, 8, 9, 10, 11];
v4.metaStart = 1;
v4.metaEnd = 11;
v4.attachments = { 4: [Linear(['O'], ['='])] };
export const v6 = Ring({ atoms: 'C', size: 9 });
v6.metaPositions = [10, 11, 12, 14, 15, 17, 22, 23, 24];
v6.metaStart = 10;
v6.metaEnd = 24;
export const v9 = Linear(['C', 'C', 'O']);
export const v10 = Linear(['O'], ['=']);
export const v11 = v9.attach(v10, 1);
v6.attachments = { 3: [Linear(['O'])], 5: [Linear(['C'])], 6: [v11] };
export const v12 = Ring({ atoms: 'C', size: 5, ringNumber: 2 });
v12.metaPositions = [15, 17, 22, 23, 24];
v12.metaStart = 15;
v12.metaEnd = 24;
export const v14 = Linear(['C', 'C', 'O']);
export const v15 = Linear(['O'], ['=']);
export const v16 = v14.attach(v15, 1);
v12.attachments = { 1: [Linear(['C'])], 2: [v16] };
export const v17 = FusedRing([v2, v4, v6, v12], { skipPositionComputation: true });
v17.metaTotalAtoms = 17;
v17.metaAllPositions = [1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12, 14, 15, 17, 22, 23, 24];
v17.metaSequentialRings = [];
v17.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [4, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [12, 0], [14, 0], [15, 0], [17, 0], [22, 0], [23, 0], [24, 0]]);
v17.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [4, null], [6, null], [7, null], [8, null], [9, null], [10, null], [11, null], [12, null], [14, null], [15, null], [17, null], [22, null], [23, null], [24, null]]);
v17.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [4, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [10, 'C'], [11, 'C'], [12, 'C'], [14, 'C'], [15, 'C'], [17, 'C'], [22, 'C'], [23, 'C'], [24, 'C']]);
v17.metaBondMap = new Map([[1, null], [2, null], [3, null], [4, null], [6, null], [7, '='], [8, null], [9, null], [10, null], [11, null], [12, null], [14, null], [15, null], [17, null], [22, null], [23, null], [24, null]]);
v17.metaRingOrderMap = new Map([[1, [1, 2, 1, 2]], [2, [1, 2]], [3, [1, 2]], [4, [1, 2]], [6, [1, 2]], [7, [1, 2]], [8, [2]], [9, [2]], [10, [1, 2, 1]], [11, [2, 1]], [12, [1]], [14, [1]], [15, [2, 1, 2]], [17, [1, 2]], [22, [1, 2]], [23, [1, 2]], [24, [1, 2]]]);
v17.metaSeqAtomAttachments = new Map();
export const v18 = Molecule([v1, v17]);"
`;

exports[`Hydrocortisone Integration Test parses hydrocortisone 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            "=",
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            "=",
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 10,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 9,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "1": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "2": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
    {
      "atoms": [
        "O",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
  ],
  "type": "molecule",
}
`;

exports[`Hydrocortisone Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 6, bonds: [null, null, null, null, '=', null] });
v2.metaPositions = [1, 2, 3, 4, 6, 7];
v2.metaStart = 1;
v2.metaEnd = 7;
v2.attachments = { 4: [Linear(['O'], ['='])] };
export const v4 = Ring({ atoms: 'C', size: 10, ringNumber: 2, bonds: [null, null, null, null, '=', null, null, null, null, null] });
v4.metaPositions = [1, 2, 3, 4, 6, 7, 8, 9, 10, 11];
v4.metaStart = 1;
v4.metaEnd = 11;
v4.attachments = { 4: [Linear(['O'], ['='])] };
export const v6 = Ring({ atoms: 'C', size: 9 });
v6.metaPositions = [10, 11, 12, 14, 15, 17, 22, 23, 24];
v6.metaStart = 10;
v6.metaEnd = 24;
export const v9 = Linear(['C', 'C', 'O']);
export const v10 = Linear(['O'], ['=']);
export const v11 = v9.attach(v10, 1);
v6.attachments = { 3: [Linear(['O'])], 5: [Linear(['C'])], 6: [v11] };
export const v12 = Ring({ atoms: 'C', size: 5, ringNumber: 2 });
v12.metaPositions = [15, 17, 22, 23, 24];
v12.metaStart = 15;
v12.metaEnd = 24;
export const v14 = Linear(['C', 'C', 'O']);
export const v15 = Linear(['O'], ['=']);
export const v16 = v14.attach(v15, 1);
v12.attachments = { 1: [Linear(['C'])], 2: [v16] };
export const v17 = FusedRing([v2, v4, v6, v12], { skipPositionComputation: true });
v17.metaTotalAtoms = 17;
v17.metaAllPositions = [1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12, 14, 15, 17, 22, 23, 24];
v17.metaSequentialRings = [];
v17.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [4, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [12, 0], [14, 0], [15, 0], [17, 0], [22, 0], [23, 0], [24, 0]]);
v17.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [4, null], [6, null], [7, null], [8, null], [9, null], [10, null], [11, null], [12, null], [14, null], [15, null], [17, null], [22, null], [23, null], [24, null]]);
v17.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [4, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [10, 'C'], [11, 'C'], [12, 'C'], [14, 'C'], [15, 'C'], [17, 'C'], [22, 'C'], [23, 'C'], [24, 'C']]);
v17.metaBondMap = new Map([[1, null], [2, null], [3, null], [4, null], [6, null], [7, '='], [8, null], [9, null], [10, null], [11, null], [12, null], [14, null], [15, null], [17, null], [22, null], [23, null], [24, null]]);
v17.metaRingOrderMap = new Map([[1, [1, 2, 1, 2]], [2, [1, 2]], [3, [1, 2]], [4, [1, 2]], [6, [1, 2]], [7, [1, 2]], [8, [2]], [9, [2]], [10, [1, 2, 1]], [11, [2, 1]], [12, [1]], [14, [1]], [15, [2, 1, 2]], [17, [1, 2]], [22, [1, 2]], [23, [1, 2]], [24, [1, 2]]]);
v17.metaSeqAtomAttachments = new Map();
export const v18 = Linear(['O']);
export const v19 = Molecule([v1, v17, v18]);"
`;

exports[`Prednisone Integration Test parses prednisone 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            "=",
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
            "8": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            "=",
            null,
            "=",
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 10,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 9,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "1": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "2": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
  ],
  "type": "molecule",
}
`;

exports[`Prednisone Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 6, bonds: [null, null, null, '=', null, null] });
v2.metaPositions = [1, 2, 3, 5, 6, 7];
v2.metaStart = 1;
v2.metaEnd = 7;
v2.attachments = { 3: [Linear(['O'], ['='])] };
export const v4 = Ring({ atoms: 'C', size: 10, ringNumber: 2, bonds: [null, null, null, '=', null, '=', null, null, null, null] });
v4.metaPositions = [1, 2, 3, 5, 6, 7, 8, 9, 11, 12];
v4.metaStart = 1;
v4.metaEnd = 12;
v4.attachments = { 3: [Linear(['O'], ['='])], 8: [Linear(['O'])] };
export const v7 = Ring({ atoms: 'C', size: 9 });
v7.metaPositions = [11, 12, 13, 14, 15, 17, 22, 23, 24];
v7.metaStart = 11;
v7.metaEnd = 24;
export const v9 = Linear(['C', 'C', 'O']);
export const v10 = Linear(['O'], ['=']);
export const v11 = v9.attach(v10, 1);
v7.attachments = { 5: [Linear(['C'])], 6: [v11] };
export const v12 = Ring({ atoms: 'C', size: 5, ringNumber: 2 });
v12.metaPositions = [15, 17, 22, 23, 24];
v12.metaStart = 15;
v12.metaEnd = 24;
export const v14 = Linear(['C', 'C', 'O']);
export const v15 = Linear(['O'], ['=']);
export const v16 = v14.attach(v15, 1);
v12.attachments = { 1: [Linear(['C'])], 2: [v16] };
export const v17 = FusedRing([v2, v4, v7, v12], { skipPositionComputation: true });
v17.metaTotalAtoms = 17;
v17.metaAllPositions = [1, 2, 3, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 17, 22, 23, 24];
v17.metaSequentialRings = [];
v17.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [11, 0], [12, 0], [13, 0], [14, 0], [15, 0], [17, 0], [22, 0], [23, 0], [24, 0]]);
v17.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [5, null], [6, null], [7, null], [8, null], [9, null], [11, null], [12, null], [13, null], [14, null], [15, null], [17, null], [22, null], [23, null], [24, null]]);
v17.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [5, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [11, 'C'], [12, 'C'], [13, 'C'], [14, 'C'], [15, 'C'], [17, 'C'], [22, 'C'], [23, 'C'], [24, 'C']]);
v17.metaBondMap = new Map([[1, null], [2, null], [3, null], [5, null], [6, '='], [7, null], [8, '='], [9, null], [11, null], [12, null], [13, null], [14, null], [15, null], [17, null], [22, null], [23, null], [24, null]]);
v17.metaRingOrderMap = new Map([[1, [1, 2, 1, 2]], [2, [1, 2]], [3, [1, 2]], [5, [1, 2]], [6, [1, 2]], [7, [1, 2]], [8, [2]], [9, [2]], [11, [1, 2, 1]], [12, [2, 1]], [13, [1]], [14, [1]], [15, [2, 1, 2]], [17, [1, 2]], [22, [1, 2]], [23, [1, 2]], [24, [1, 2]]]);
v17.metaSeqAtomAttachments = new Map();
export const v18 = Molecule([v1, v17]);"
`;

exports[`Prednisolone Integration Test parses prednisolone 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            "=",
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
            "8": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            "=",
            null,
            "=",
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 10,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 9,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "1": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "2": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
  ],
  "type": "molecule",
}
`;

exports[`Prednisolone Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 6, bonds: [null, null, null, '=', null, null] });
v2.metaPositions = [1, 2, 3, 5, 6, 7];
v2.metaStart = 1;
v2.metaEnd = 7;
v2.attachments = { 3: [Linear(['O'], ['='])] };
export const v4 = Ring({ atoms: 'C', size: 10, ringNumber: 2, bonds: [null, null, null, '=', null, '=', null, null, null, null] });
v4.metaPositions = [1, 2, 3, 5, 6, 7, 8, 9, 11, 12];
v4.metaStart = 1;
v4.metaEnd = 12;
v4.attachments = { 3: [Linear(['O'], ['='])], 8: [Linear(['O'])] };
export const v7 = Ring({ atoms: 'C', size: 9 });
v7.metaPositions = [11, 12, 13, 15, 16, 18, 23, 24, 25];
v7.metaStart = 11;
v7.metaEnd = 25;
export const v10 = Linear(['C', 'C', 'O']);
export const v11 = Linear(['O'], ['=']);
export const v12 = v10.attach(v11, 1);
v7.attachments = { 3: [Linear(['O'])], 5: [Linear(['C'])], 6: [v12] };
export const v13 = Ring({ atoms: 'C', size: 5, ringNumber: 2 });
v13.metaPositions = [16, 18, 23, 24, 25];
v13.metaStart = 16;
v13.metaEnd = 25;
export const v15 = Linear(['C', 'C', 'O']);
export const v16 = Linear(['O'], ['=']);
export const v17 = v15.attach(v16, 1);
v13.attachments = { 1: [Linear(['C'])], 2: [v17] };
export const v18 = FusedRing([v2, v4, v7, v13], { skipPositionComputation: true });
v18.metaTotalAtoms = 17;
v18.metaAllPositions = [1, 2, 3, 5, 6, 7, 8, 9, 11, 12, 13, 15, 16, 18, 23, 24, 25];
v18.metaSequentialRings = [];
v18.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [11, 0], [12, 0], [13, 0], [15, 0], [16, 0], [18, 0], [23, 0], [24, 0], [25, 0]]);
v18.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [5, null], [6, null], [7, null], [8, null], [9, null], [11, null], [12, null], [13, null], [15, null], [16, null], [18, null], [23, null], [24, null], [25, null]]);
v18.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [5, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [11, 'C'], [12, 'C'], [13, 'C'], [15, 'C'], [16, 'C'], [18, 'C'], [23, 'C'], [24, 'C'], [25, 'C']]);
v18.metaBondMap = new Map([[1, null], [2, null], [3, null], [5, null], [6, '='], [7, null], [8, '='], [9, null], [11, null], [12, null], [13, null], [15, null], [16, null], [18, null], [23, null], [24, null], [25, null]]);
v18.metaRingOrderMap = new Map([[1, [1, 2, 1, 2]], [2, [1, 2]], [3, [1, 2]], [5, [1, 2]], [6, [1, 2]], [7, [1, 2]], [8, [2]], [9, [2]], [11, [1, 2, 1]], [12, [2, 1]], [13, [1]], [15, [1]], [16, [2, 1, 2]], [18, [1, 2]], [23, [1, 2]], [24, [1, 2]], [25, [1, 2]]]);
v18.metaSeqAtomAttachments = new Map();
export const v19 = Molecule([v1, v18]);"
`;

exports[`Methylprednisolone Integration Test parses methylprednisolone 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
            "4": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            "=",
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
            "4": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "8": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            "=",
            null,
            "=",
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 10,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 9,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "1": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "2": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
  ],
  "type": "molecule",
}
`;

exports[`Methylprednisolone Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 6, bonds: [null, null, null, '=', null, null] });
v2.metaPositions = [1, 2, 3, 5, 7, 8];
v2.metaStart = 1;
v2.metaEnd = 8;
v2.attachments = { 3: [Linear(['O'], ['='])], 4: [Linear(['C'])] };
export const v5 = Ring({ atoms: 'C', size: 10, ringNumber: 2, bonds: [null, null, null, '=', null, '=', null, null, null, null] });
v5.metaPositions = [1, 2, 3, 5, 7, 8, 9, 10, 12, 13];
v5.metaStart = 1;
v5.metaEnd = 13;
v5.attachments = { 3: [Linear(['O'], ['='])], 4: [Linear(['C'])], 8: [Linear(['O'])] };
export const v9 = Ring({ atoms: 'C', size: 9 });
v9.metaPositions = [12, 13, 14, 16, 17, 19, 24, 25, 26];
v9.metaStart = 12;
v9.metaEnd = 26;
export const v12 = Linear(['C', 'C', 'O']);
export const v13 = Linear(['O'], ['=']);
export const v14 = v12.attach(v13, 1);
v9.attachments = { 3: [Linear(['O'])], 5: [Linear(['C'])], 6: [v14] };
export const v15 = Ring({ atoms: 'C', size: 5, ringNumber: 2 });
v15.metaPositions = [17, 19, 24, 25, 26];
v15.metaStart = 17;
v15.metaEnd = 26;
export const v17 = Linear(['C', 'C', 'O']);
export const v18 = Linear(['O'], ['=']);
export const v19 = v17.attach(v18, 1);
v15.attachments = { 1: [Linear(['C'])], 2: [v19] };
export const v20 = FusedRing([v2, v5, v9, v15], { skipPositionComputation: true });
v20.metaTotalAtoms = 17;
v20.metaAllPositions = [1, 2, 3, 5, 7, 8, 9, 10, 12, 13, 14, 16, 17, 19, 24, 25, 26];
v20.metaSequentialRings = [];
v20.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [5, 0], [7, 0], [8, 0], [9, 0], [10, 0], [12, 0], [13, 0], [14, 0], [16, 0], [17, 0], [19, 0], [24, 0], [25, 0], [26, 0]]);
v20.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [5, null], [7, null], [8, null], [9, null], [10, null], [12, null], [13, null], [14, null], [16, null], [17, null], [19, null], [24, null], [25, null], [26, null]]);
v20.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [5, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [10, 'C'], [12, 'C'], [13, 'C'], [14, 'C'], [16, 'C'], [17, 'C'], [19, 'C'], [24, 'C'], [25, 'C'], [26, 'C']]);
v20.metaBondMap = new Map([[1, null], [2, null], [3, null], [5, null], [7, '='], [8, null], [9, '='], [10, null], [12, null], [13, null], [14, null], [16, null], [17, null], [19, null], [24, null], [25, null], [26, null]]);
v20.metaRingOrderMap = new Map([[1, [1, 2, 1, 2]], [2, [1, 2]], [3, [1, 2]], [5, [1, 2]], [7, [1, 2]], [8, [1, 2]], [9, [2]], [10, [2]], [12, [1, 2, 1]], [13, [2, 1]], [14, [1]], [16, [1]], [17, [2, 1, 2]], [19, [1, 2]], [24, [1, 2]], [25, [1, 2]], [26, [1, 2]]]);
v20.metaSeqAtomAttachments = new Map();
export const v21 = Molecule([v1, v20]);"
`;

exports[`Dexamethasone Integration Test parses dexamethasone 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "F",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 2,
          "ringNumber": 2,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "F",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 3,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            "=",
            null,
            null,
            "=",
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 4,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
    {
      "atoms": [
        "C",
        "C",
        "O",
      ],
      "attachments": {
        "1": [
          {
            "atoms": [
              "O",
            ],
            "attachments": {},
            "bonds": [
              "=",
            ],
            "type": "linear",
          },
        ],
      },
      "bonds": [
        null,
        null,
      ],
      "type": "linear",
    },
  ],
  "type": "molecule",
}
`;

exports[`Dexamethasone Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 5 });
v2.metaPositions = [1, 2, 3, 20, 22];
v2.metaStart = 1;
v2.metaEnd = 22;
v2.attachments = { 4: [Linear(['C'])], 5: [Linear(['O'])] };
export const v5 = Ring({ atoms: 'C', size: 6, ringNumber: 2, offset: 2 });
v5.metaPositions = [3, 4, 15, 17, 19, 20];
v5.metaStart = 3;
v5.metaEnd = 20;
v5.attachments = { 3: [Linear(['F'])], 4: [Linear(['O'])], 6: [Linear(['C'])] };
export const v9 = Ring({ atoms: 'C', size: 6, ringNumber: 3 });
v9.metaPositions = [4, 5, 6, 7, 13, 15];
v9.metaStart = 4;
v9.metaEnd = 15;
v9.attachments = { 5: [Linear(['C'])], 6: [Linear(['F'])] };
export const v12 = Ring({ atoms: 'C', size: 6, ringNumber: 4, bonds: ['=', null, null, '=', null, null] });
v12.metaPositions = [7, 8, 9, 11, 12, 13];
v12.metaStart = 7;
v12.metaEnd = 13;
v12.attachments = { 3: [Linear(['O'], ['='])], 6: [Linear(['C'])] };
export const v15 = FusedRing([v2, v5, v9, v12], { skipPositionComputation: true });
v15.metaTotalAtoms = 17;
v15.metaAllPositions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 15, 17, 19, 20, 22];
v15.metaSequentialRings = [];
v15.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [11, 0], [12, 0], [13, 0], [15, 0], [17, 0], [19, 0], [20, 0], [22, 0]]);
v15.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [4, null], [5, null], [6, null], [7, null], [8, null], [9, null], [11, null], [12, null], [13, null], [15, null], [17, null], [19, null], [20, null], [22, null]]);
v15.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [4, 'C'], [5, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [11, 'C'], [12, 'C'], [13, 'C'], [15, 'C'], [17, 'C'], [19, 'C'], [20, 'C'], [22, 'C']]);
v15.metaBondMap = new Map([[1, null], [2, null], [3, null], [4, null], [5, null], [6, null], [7, null], [8, '='], [9, null], [11, null], [12, '='], [13, null], [15, null], [17, null], [19, null], [20, null], [22, null]]);
v15.metaRingOrderMap = new Map([[1, [1, 1]], [2, [1]], [3, [2, 2, 1]], [4, [3, 3, 2]], [5, [3]], [6, [3]], [7, [4, 4, 3]], [8, [4]], [9, [4]], [11, [4]], [12, [4]], [13, [4, 3]], [15, [3, 2]], [17, [2]], [19, [2]], [20, [2, 1]], [22, [1]]]);
v15.metaSeqAtomAttachments = new Map();
export const v16 = Linear(['C', 'C', 'O']);
export const v17 = Linear(['O'], ['=']);
export const v18 = v16.attach(v17, 1);
export const v19 = Molecule([v1, v15, v18]);"
`;

exports[`Triamcinolone Integration Test parses triamcinolone 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "F",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "F",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "8": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 8,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "7": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            "=",
            null,
            null,
            "=",
            null,
            null,
          ],
          "offset": 3,
          "ringNumber": 3,
          "size": 10,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            "=",
            null,
            null,
            "=",
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 4,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
    {
      "atoms": [
        "C",
        "C",
        "O",
      ],
      "attachments": {
        "1": [
          {
            "atoms": [
              "O",
            ],
            "attachments": {},
            "bonds": [
              "=",
            ],
            "type": "linear",
          },
        ],
      },
      "bonds": [
        null,
        null,
      ],
      "type": "linear",
    },
  ],
  "type": "molecule",
}
`;

exports[`Triamcinolone Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 5 });
v2.metaPositions = [1, 2, 3, 5, 17];
v2.metaStart = 1;
v2.metaEnd = 17;
v2.attachments = { 3: [Linear(['O'])], 5: [Linear(['F'])] };
export const v5 = Ring({ atoms: 'C', size: 8, ringNumber: 2 });
v5.metaPositions = [1, 2, 3, 5, 17, 19, 21, 22];
v5.metaStart = 1;
v5.metaEnd = 22;
v5.attachments = { 3: [Linear(['O'])], 5: [Linear(['F'])], 6: [Linear(['O'])], 8: [Linear(['C'])] };
export const v10 = Ring({ atoms: 'C', size: 10, ringNumber: 3, offset: 3, bonds: [null, null, null, null, '=', null, null, '=', null, null], branchDepths: [0, 0, 1, 1, 1, 1, 1, 1, 1, 1] });
v10.metaPositions = [5, 6, 7, 8, 9, 10, 11, 13, 14, 15];
v10.metaStart = 5;
v10.metaEnd = 15;
v10.attachments = { 7: [Linear(['O'], ['='])] };
export const v12 = Ring({ atoms: 'C', size: 6, ringNumber: 4, bonds: ['=', null, null, '=', null, null] });
v12.metaPositions = [9, 10, 11, 13, 14, 15];
v12.metaStart = 9;
v12.metaEnd = 15;
v12.attachments = { 3: [Linear(['O'], ['='])] };
export const v14 = FusedRing([v2, v5, v10, v12], { skipPositionComputation: true });
v14.metaTotalAtoms = 18;
v14.metaAllPositions = [1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 19, 21, 22];
v14.metaSequentialRings = [];
v14.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [5, 0], [6, 0], [7, 1], [8, 1], [9, 1], [10, 1], [11, 1], [13, 1], [14, 1], [15, 1], [16, 1], [17, 0], [19, 0], [21, 0], [22, 0]]);
v14.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [5, null], [6, null], [7, 6], [8, 6], [9, 6], [10, 6], [11, 6], [13, 6], [14, 6], [15, 6], [16, 6], [17, null], [19, null], [21, null], [22, null]]);
v14.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [5, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [10, 'C'], [11, 'C'], [13, 'C'], [14, 'C'], [15, 'C'], [16, 'C'], [17, 'C'], [19, 'C'], [21, 'C'], [22, 'C']]);
v14.metaBondMap = new Map([[1, null], [2, null], [3, null], [5, null], [6, null], [7, null], [8, null], [9, null], [10, '='], [11, null], [13, null], [14, '='], [15, null], [16, null], [17, null], [19, null], [21, null], [22, null]]);
v14.metaRingOrderMap = new Map([[1, [1, 2, 1, 2]], [2, [1, 2]], [3, [1, 2]], [5, [3, 3, 1, 2]], [6, [3]], [7, [3]], [8, [3]], [9, [4, 3, 4]], [10, [3, 4]], [11, [3, 4]], [13, [3, 4]], [14, [3, 4]], [15, [3, 4]], [17, [1, 2]], [19, [2]], [21, [2]], [22, [2]]]);
v14.metaSeqAtomAttachments = new Map();
export const v15 = Linear(['C', 'C', 'O']);
export const v16 = Linear(['O'], ['=']);
export const v17 = v15.attach(v16, 1);
export const v18 = Molecule([v1, v14, v17]);"
`;

exports[`Budesonide Integration Test parses budesonide 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
        "C",
        "C",
      ],
      "attachments": {},
      "bonds": [
        null,
        null,
      ],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {},
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 5,
          "substitutions": {
            "2": "O",
            "5": "O",
          },
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 2,
          "ringNumber": 2,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "F",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 3,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "F",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 4,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            "=",
            null,
            null,
            "=",
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 5,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
    {
      "atoms": [
        "C",
        "C",
        "O",
      ],
      "attachments": {
        "1": [
          {
            "atoms": [
              "O",
            ],
            "attachments": {},
            "bonds": [
              "=",
            ],
            "type": "linear",
          },
        ],
      },
      "bonds": [
        null,
        null,
      ],
      "type": "linear",
    },
  ],
  "type": "molecule",
}
`;

exports[`Budesonide Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C', 'C', 'C']);
export const v2 = Ring({ atoms: 'C', size: 5, branchDepths: [0, 0, 0, 0, 1] });
v2.metaPositions = [3, 4, 5, 26, 27];
v2.metaStart = 3;
v2.metaEnd = 27;
export const v3 = Ring({ atoms: 'C', size: 5, ringNumber: 2, offset: 2 });
v3.metaPositions = [5, 6, 7, 24, 26];
v3.metaStart = 5;
v3.metaEnd = 26;
v3.attachments = { 4: [Linear(['C'])] };
export const v5 = Ring({ atoms: 'C', size: 6, ringNumber: 3 });
v5.metaPositions = [7, 8, 19, 21, 23, 24];
v5.metaStart = 7;
v5.metaEnd = 24;
v5.attachments = { 3: [Linear(['F'])], 4: [Linear(['O'])], 6: [Linear(['C'])] };
export const v9 = Ring({ atoms: 'C', size: 6, ringNumber: 4 });
v9.metaPositions = [8, 9, 10, 11, 17, 19];
v9.metaStart = 8;
v9.metaEnd = 19;
v9.attachments = { 5: [Linear(['C'])], 6: [Linear(['F'])] };
export const v12 = Ring({ atoms: 'C', size: 6, ringNumber: 5, bonds: ['=', null, null, '=', null, null] });
v12.metaPositions = [11, 12, 13, 15, 16, 17];
v12.metaStart = 11;
v12.metaEnd = 17;
v12.attachments = { 3: [Linear(['O'], ['='])], 6: [Linear(['C'])] };
export const v15 = FusedRing([v2, v3, v5, v9, v12], { skipPositionComputation: true });
v15.metaTotalAtoms = 20;
v15.metaAllPositions = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 15, 16, 17, 19, 21, 23, 24, 26, 27];
v15.metaSequentialRings = [];
v15.metaBranchDepthMap = new Map([[3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [12, 0], [13, 0], [15, 0], [16, 0], [17, 0], [19, 0], [21, 0], [23, 0], [24, 0], [26, 0], [27, 1]]);
v15.metaParentIndexMap = new Map([[3, null], [4, null], [5, null], [6, null], [7, null], [8, null], [9, null], [10, null], [11, null], [12, null], [13, null], [15, null], [16, null], [17, null], [19, null], [21, null], [23, null], [24, null], [26, null], [27, 26]]);
v15.metaAtomValueMap = new Map([[3, 'C'], [4, 'O'], [5, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [10, 'C'], [11, 'C'], [12, 'C'], [13, 'C'], [15, 'C'], [16, 'C'], [17, 'C'], [19, 'C'], [21, 'C'], [23, 'C'], [24, 'C'], [26, 'C'], [27, 'O']]);
v15.metaBondMap = new Map([[3, null], [4, null], [5, null], [6, null], [7, null], [8, null], [9, null], [10, null], [11, null], [12, '='], [13, null], [15, null], [16, '='], [17, null], [19, null], [21, null], [23, null], [24, null], [26, null], [27, null]]);
v15.metaRingOrderMap = new Map([[3, [1, 1]], [4, [1]], [5, [2, 2, 1]], [6, [2]], [7, [3, 3, 2]], [8, [4, 4, 3]], [9, [4]], [10, [4]], [11, [5, 5, 4]], [12, [5]], [13, [5]], [15, [5]], [16, [5]], [17, [5, 4]], [19, [4, 3]], [21, [3]], [23, [3]], [24, [3, 2]], [26, [2, 1]], [27, [1]]]);
v15.metaSeqAtomAttachments = new Map();
export const v16 = Linear(['C', 'C', 'O']);
export const v17 = Linear(['O'], ['=']);
export const v18 = v16.attach(v17, 1);
export const v19 = Molecule([v1, v15, v18]);"
`;

exports[`Fluticasone Integration Test parses fluticasone 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "F",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 2,
          "ringNumber": 2,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "F",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 3,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            "=",
            null,
            null,
            "=",
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 4,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
    {
      "atoms": [
        "C",
        "O",
        "C",
        "F",
      ],
      "attachments": {
        "1": [
          {
            "atoms": [
              "S",
            ],
            "attachments": {},
            "bonds": [
              "=",
            ],
            "type": "linear",
          },
        ],
      },
      "bonds": [
        null,
        null,
        null,
      ],
      "type": "linear",
    },
  ],
  "type": "molecule",
}
`;

exports[`Fluticasone Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 5 });
v2.metaPositions = [1, 2, 3, 20, 22];
v2.metaStart = 1;
v2.metaEnd = 22;
v2.attachments = { 4: [Linear(['C'])], 5: [Linear(['O'])] };
export const v5 = Ring({ atoms: 'C', size: 6, ringNumber: 2, offset: 2 });
v5.metaPositions = [3, 4, 15, 17, 19, 20];
v5.metaStart = 3;
v5.metaEnd = 20;
v5.attachments = { 3: [Linear(['F'])], 4: [Linear(['O'])], 6: [Linear(['C'])] };
export const v9 = Ring({ atoms: 'C', size: 6, ringNumber: 3 });
v9.metaPositions = [4, 5, 6, 7, 13, 15];
v9.metaStart = 4;
v9.metaEnd = 15;
v9.attachments = { 5: [Linear(['C'])], 6: [Linear(['F'])] };
export const v12 = Ring({ atoms: 'C', size: 6, ringNumber: 4, bonds: ['=', null, null, '=', null, null] });
v12.metaPositions = [7, 8, 9, 11, 12, 13];
v12.metaStart = 7;
v12.metaEnd = 13;
v12.attachments = { 3: [Linear(['O'], ['='])], 6: [Linear(['C'])] };
export const v15 = FusedRing([v2, v5, v9, v12], { skipPositionComputation: true });
v15.metaTotalAtoms = 17;
v15.metaAllPositions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 15, 17, 19, 20, 22];
v15.metaSequentialRings = [];
v15.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [11, 0], [12, 0], [13, 0], [15, 0], [17, 0], [19, 0], [20, 0], [22, 0]]);
v15.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [4, null], [5, null], [6, null], [7, null], [8, null], [9, null], [11, null], [12, null], [13, null], [15, null], [17, null], [19, null], [20, null], [22, null]]);
v15.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [4, 'C'], [5, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [11, 'C'], [12, 'C'], [13, 'C'], [15, 'C'], [17, 'C'], [19, 'C'], [20, 'C'], [22, 'C']]);
v15.metaBondMap = new Map([[1, null], [2, null], [3, null], [4, null], [5, null], [6, null], [7, null], [8, '='], [9, null], [11, null], [12, '='], [13, null], [15, null], [17, null], [19, null], [20, null], [22, null]]);
v15.metaRingOrderMap = new Map([[1, [1, 1]], [2, [1]], [3, [2, 2, 1]], [4, [3, 3, 2]], [5, [3]], [6, [3]], [7, [4, 4, 3]], [8, [4]], [9, [4]], [11, [4]], [12, [4]], [13, [4, 3]], [15, [3, 2]], [17, [2]], [19, [2]], [20, [2, 1]], [22, [1]]]);
v15.metaSeqAtomAttachments = new Map();
export const v16 = Linear(['C', 'O', 'C', 'F']);
export const v17 = Linear(['S'], ['=']);
export const v18 = v16.attach(v17, 1);
export const v19 = Molecule([v1, v15, v18]);"
`;

exports[`Beclomethasone Integration Test parses beclomethasone 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "Cl",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 2,
          "ringNumber": 2,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "Cl",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 3,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            "=",
            null,
            null,
            "=",
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 4,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
    {
      "atoms": [
        "C",
        "C",
        "O",
      ],
      "attachments": {
        "1": [
          {
            "atoms": [
              "O",
            ],
            "attachments": {},
            "bonds": [
              "=",
            ],
            "type": "linear",
          },
        ],
      },
      "bonds": [
        null,
        null,
      ],
      "type": "linear",
    },
  ],
  "type": "molecule",
}
`;

exports[`Beclomethasone Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 5 });
v2.metaPositions = [1, 2, 3, 20, 22];
v2.metaStart = 1;
v2.metaEnd = 22;
v2.attachments = { 4: [Linear(['C'])], 5: [Linear(['O'])] };
export const v5 = Ring({ atoms: 'C', size: 6, ringNumber: 2, offset: 2 });
v5.metaPositions = [3, 4, 15, 17, 19, 20];
v5.metaStart = 3;
v5.metaEnd = 20;
v5.attachments = { 3: [Linear(['Cl'])], 4: [Linear(['O'])], 6: [Linear(['C'])] };
export const v9 = Ring({ atoms: 'C', size: 6, ringNumber: 3 });
v9.metaPositions = [4, 5, 6, 7, 13, 15];
v9.metaStart = 4;
v9.metaEnd = 15;
v9.attachments = { 5: [Linear(['C'])], 6: [Linear(['Cl'])] };
export const v12 = Ring({ atoms: 'C', size: 6, ringNumber: 4, bonds: ['=', null, null, '=', null, null] });
v12.metaPositions = [7, 8, 9, 11, 12, 13];
v12.metaStart = 7;
v12.metaEnd = 13;
v12.attachments = { 3: [Linear(['O'], ['='])], 6: [Linear(['C'])] };
export const v15 = FusedRing([v2, v5, v9, v12], { skipPositionComputation: true });
v15.metaTotalAtoms = 17;
v15.metaAllPositions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 15, 17, 19, 20, 22];
v15.metaSequentialRings = [];
v15.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [11, 0], [12, 0], [13, 0], [15, 0], [17, 0], [19, 0], [20, 0], [22, 0]]);
v15.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [4, null], [5, null], [6, null], [7, null], [8, null], [9, null], [11, null], [12, null], [13, null], [15, null], [17, null], [19, null], [20, null], [22, null]]);
v15.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [4, 'C'], [5, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [11, 'C'], [12, 'C'], [13, 'C'], [15, 'C'], [17, 'C'], [19, 'C'], [20, 'C'], [22, 'C']]);
v15.metaBondMap = new Map([[1, null], [2, null], [3, null], [4, null], [5, null], [6, null], [7, null], [8, '='], [9, null], [11, null], [12, '='], [13, null], [15, null], [17, null], [19, null], [20, null], [22, null]]);
v15.metaRingOrderMap = new Map([[1, [1, 1]], [2, [1]], [3, [2, 2, 1]], [4, [3, 3, 2]], [5, [3]], [6, [3]], [7, [4, 4, 3]], [8, [4]], [9, [4]], [11, [4]], [12, [4]], [13, [4, 3]], [15, [3, 2]], [17, [2]], [19, [2]], [20, [2, 1]], [22, [1]]]);
v15.metaSeqAtomAttachments = new Map();
export const v16 = Linear(['C', 'C', 'O']);
export const v17 = Linear(['O'], ['=']);
export const v18 = v16.attach(v17, 1);
export const v19 = Molecule([v1, v15, v18]);"
`;

exports[`Fludrocortisone Integration Test parses fludrocortisone 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            "=",
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "10": [
              {
                "atoms": [
                  "F",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            "=",
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 10,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "2": [
              {
                "atoms": [
                  "F",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 9,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "1": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "2": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
  ],
  "type": "molecule",
}
`;

exports[`Fludrocortisone Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 6, bonds: [null, null, null, null, '=', null] });
v2.metaPositions = [1, 2, 3, 4, 6, 7];
v2.metaStart = 1;
v2.metaEnd = 7;
v2.attachments = { 4: [Linear(['O'], ['='])] };
export const v4 = Ring({ atoms: 'C', size: 10, ringNumber: 2, bonds: [null, null, null, null, '=', null, null, null, null, null] });
v4.metaPositions = [1, 2, 3, 4, 6, 7, 8, 9, 10, 11];
v4.metaStart = 1;
v4.metaEnd = 11;
v4.attachments = { 4: [Linear(['O'], ['='])], 10: [Linear(['F'])] };
export const v7 = Ring({ atoms: 'C', size: 9 });
v7.metaPositions = [10, 11, 13, 15, 16, 18, 23, 24, 25];
v7.metaStart = 10;
v7.metaEnd = 25;
export const v11 = Linear(['C', 'C', 'O']);
export const v12 = Linear(['O'], ['=']);
export const v13 = v11.attach(v12, 1);
v7.attachments = { 2: [Linear(['F'])], 3: [Linear(['O'])], 5: [Linear(['C'])], 6: [v13] };
export const v14 = Ring({ atoms: 'C', size: 5, ringNumber: 2 });
v14.metaPositions = [16, 18, 23, 24, 25];
v14.metaStart = 16;
v14.metaEnd = 25;
export const v16 = Linear(['C', 'C', 'O']);
export const v17 = Linear(['O'], ['=']);
export const v18 = v16.attach(v17, 1);
v14.attachments = { 1: [Linear(['C'])], 2: [v18] };
export const v19 = FusedRing([v2, v4, v7, v14], { skipPositionComputation: true });
v19.metaTotalAtoms = 17;
v19.metaAllPositions = [1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 13, 15, 16, 18, 23, 24, 25];
v19.metaSequentialRings = [];
v19.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [4, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [13, 0], [15, 0], [16, 0], [18, 0], [23, 0], [24, 0], [25, 0]]);
v19.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [4, null], [6, null], [7, null], [8, null], [9, null], [10, null], [11, null], [13, null], [15, null], [16, null], [18, null], [23, null], [24, null], [25, null]]);
v19.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [4, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [10, 'C'], [11, 'C'], [13, 'C'], [15, 'C'], [16, 'C'], [18, 'C'], [23, 'C'], [24, 'C'], [25, 'C']]);
v19.metaBondMap = new Map([[1, null], [2, null], [3, null], [4, null], [6, null], [7, '='], [8, null], [9, null], [10, null], [11, null], [13, null], [15, null], [16, null], [18, null], [23, null], [24, null], [25, null]]);
v19.metaRingOrderMap = new Map([[1, [1, 2, 1, 2]], [2, [1, 2]], [3, [1, 2]], [4, [1, 2]], [6, [1, 2]], [7, [1, 2]], [8, [2]], [9, [2]], [10, [1, 2, 1]], [11, [2, 1]], [13, [1]], [15, [1]], [16, [2, 1, 2]], [18, [1, 2]], [23, [1, 2]], [24, [1, 2]], [25, [1, 2]]]);
v19.metaSeqAtomAttachments = new Map();
export const v20 = Molecule([v1, v19]);"
`;

exports[`Mometasone Integration Test parses mometasone 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "Cl",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 2,
          "ringNumber": 2,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "Cl",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 3,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            "=",
            null,
            null,
            "=",
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 4,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
    {
      "atoms": [
        "C",
        "C",
        "Cl",
      ],
      "attachments": {
        "1": [
          {
            "atoms": [
              "O",
            ],
            "attachments": {},
            "bonds": [
              "=",
            ],
            "type": "linear",
          },
        ],
      },
      "bonds": [
        null,
        null,
      ],
      "type": "linear",
    },
  ],
  "type": "molecule",
}
`;

exports[`Mometasone Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 5 });
v2.metaPositions = [1, 2, 3, 20, 22];
v2.metaStart = 1;
v2.metaEnd = 22;
v2.attachments = { 4: [Linear(['C'])], 5: [Linear(['O'])] };
export const v5 = Ring({ atoms: 'C', size: 6, ringNumber: 2, offset: 2 });
v5.metaPositions = [3, 4, 15, 17, 19, 20];
v5.metaStart = 3;
v5.metaEnd = 20;
v5.attachments = { 3: [Linear(['Cl'])], 4: [Linear(['O'])], 6: [Linear(['C'])] };
export const v9 = Ring({ atoms: 'C', size: 6, ringNumber: 3 });
v9.metaPositions = [4, 5, 6, 7, 13, 15];
v9.metaStart = 4;
v9.metaEnd = 15;
v9.attachments = { 5: [Linear(['C'])], 6: [Linear(['Cl'])] };
export const v12 = Ring({ atoms: 'C', size: 6, ringNumber: 4, bonds: ['=', null, null, '=', null, null] });
v12.metaPositions = [7, 8, 9, 11, 12, 13];
v12.metaStart = 7;
v12.metaEnd = 13;
v12.attachments = { 3: [Linear(['O'], ['='])], 6: [Linear(['C'])] };
export const v15 = FusedRing([v2, v5, v9, v12], { skipPositionComputation: true });
v15.metaTotalAtoms = 17;
v15.metaAllPositions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 15, 17, 19, 20, 22];
v15.metaSequentialRings = [];
v15.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [11, 0], [12, 0], [13, 0], [15, 0], [17, 0], [19, 0], [20, 0], [22, 0]]);
v15.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [4, null], [5, null], [6, null], [7, null], [8, null], [9, null], [11, null], [12, null], [13, null], [15, null], [17, null], [19, null], [20, null], [22, null]]);
v15.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [4, 'C'], [5, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [11, 'C'], [12, 'C'], [13, 'C'], [15, 'C'], [17, 'C'], [19, 'C'], [20, 'C'], [22, 'C']]);
v15.metaBondMap = new Map([[1, null], [2, null], [3, null], [4, null], [5, null], [6, null], [7, null], [8, '='], [9, null], [11, null], [12, '='], [13, null], [15, null], [17, null], [19, null], [20, null], [22, null]]);
v15.metaRingOrderMap = new Map([[1, [1, 1]], [2, [1]], [3, [2, 2, 1]], [4, [3, 3, 2]], [5, [3]], [6, [3]], [7, [4, 4, 3]], [8, [4]], [9, [4]], [11, [4]], [12, [4]], [13, [4, 3]], [15, [3, 2]], [17, [2]], [19, [2]], [20, [2, 1]], [22, [1]]]);
v15.metaSeqAtomAttachments = new Map();
export const v16 = Linear(['C', 'C', 'Cl']);
export const v17 = Linear(['O'], ['=']);
export const v18 = v16.attach(v17, 1);
export const v19 = Molecule([v1, v15, v18]);"
`;

exports[`Cortisol Integration Test parses cortisol (alias for hydrocortisone) 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            "=",
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            "=",
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 10,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 9,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "1": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "2": [
              {
                "atoms": [
                  "C",
                  "C",
                  "O",
                ],
                "attachments": {
                  "1": [
                    {
                      "atoms": [
                        "O",
                      ],
                      "attachments": {},
                      "bonds": [
                        "=",
                      ],
                      "type": "linear",
                    },
                  ],
                },
                "bonds": [
                  null,
                  null,
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 2,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
    {
      "atoms": [
        "O",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
  ],
  "type": "molecule",
}
`;

exports[`Cortisol Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 6, bonds: [null, null, null, null, '=', null] });
v2.metaPositions = [1, 2, 3, 4, 6, 7];
v2.metaStart = 1;
v2.metaEnd = 7;
v2.attachments = { 4: [Linear(['O'], ['='])] };
export const v4 = Ring({ atoms: 'C', size: 10, ringNumber: 2, bonds: [null, null, null, null, '=', null, null, null, null, null] });
v4.metaPositions = [1, 2, 3, 4, 6, 7, 8, 9, 10, 11];
v4.metaStart = 1;
v4.metaEnd = 11;
v4.attachments = { 4: [Linear(['O'], ['='])] };
export const v6 = Ring({ atoms: 'C', size: 9 });
v6.metaPositions = [10, 11, 12, 14, 15, 17, 22, 23, 24];
v6.metaStart = 10;
v6.metaEnd = 24;
export const v9 = Linear(['C', 'C', 'O']);
export const v10 = Linear(['O'], ['=']);
export const v11 = v9.attach(v10, 1);
v6.attachments = { 3: [Linear(['O'])], 5: [Linear(['C'])], 6: [v11] };
export const v12 = Ring({ atoms: 'C', size: 5, ringNumber: 2 });
v12.metaPositions = [15, 17, 22, 23, 24];
v12.metaStart = 15;
v12.metaEnd = 24;
export const v14 = Linear(['C', 'C', 'O']);
export const v15 = Linear(['O'], ['=']);
export const v16 = v14.attach(v15, 1);
v12.attachments = { 1: [Linear(['C'])], 2: [v16] };
export const v17 = FusedRing([v2, v4, v6, v12], { skipPositionComputation: true });
v17.metaTotalAtoms = 17;
v17.metaAllPositions = [1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12, 14, 15, 17, 22, 23, 24];
v17.metaSequentialRings = [];
v17.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [4, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [12, 0], [14, 0], [15, 0], [17, 0], [22, 0], [23, 0], [24, 0]]);
v17.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [4, null], [6, null], [7, null], [8, null], [9, null], [10, null], [11, null], [12, null], [14, null], [15, null], [17, null], [22, null], [23, null], [24, null]]);
v17.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [4, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [10, 'C'], [11, 'C'], [12, 'C'], [14, 'C'], [15, 'C'], [17, 'C'], [22, 'C'], [23, 'C'], [24, 'C']]);
v17.metaBondMap = new Map([[1, null], [2, null], [3, null], [4, null], [6, null], [7, '='], [8, null], [9, null], [10, null], [11, null], [12, null], [14, null], [15, null], [17, null], [22, null], [23, null], [24, null]]);
v17.metaRingOrderMap = new Map([[1, [1, 2, 1, 2]], [2, [1, 2]], [3, [1, 2]], [4, [1, 2]], [6, [1, 2]], [7, [1, 2]], [8, [2]], [9, [2]], [10, [1, 2, 1]], [11, [2, 1]], [12, [1]], [14, [1]], [15, [2, 1, 2]], [17, [1, 2]], [22, [1, 2]], [23, [1, 2]], [24, [1, 2]]]);
v17.metaSeqAtomAttachments = new Map();
export const v18 = Linear(['O']);
export const v19 = Molecule([v1, v17, v18]);"
`;

exports[`Betamethasone Integration Test parses betamethasone (same SMILES as dexamethasone) 1`] = `
{
  "components": [
    {
      "atoms": [
        "C",
      ],
      "attachments": {},
      "bonds": [],
      "type": "linear",
    },
    {
      "rings": [
        {
          "atoms": "C",
          "attachments": {
            "4": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "5": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 1,
          "size": 5,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "F",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "4": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 2,
          "ringNumber": 2,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "5": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "F",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            null,
            null,
            null,
            null,
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 3,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
        {
          "atoms": "C",
          "attachments": {
            "3": [
              {
                "atoms": [
                  "O",
                ],
                "attachments": {},
                "bonds": [
                  "=",
                ],
                "type": "linear",
              },
            ],
            "6": [
              {
                "atoms": [
                  "C",
                ],
                "attachments": {},
                "bonds": [
                  null,
                ],
                "type": "linear",
              },
            ],
          },
          "bonds": [
            "=",
            null,
            null,
            "=",
            null,
            null,
          ],
          "offset": 0,
          "ringNumber": 4,
          "size": 6,
          "substitutions": {},
          "type": "ring",
        },
      ],
      "type": "fused_ring",
    },
    {
      "atoms": [
        "C",
        "C",
        "O",
      ],
      "attachments": {
        "1": [
          {
            "atoms": [
              "O",
            ],
            "attachments": {},
            "bonds": [
              "=",
            ],
            "type": "linear",
          },
        ],
      },
      "bonds": [
        null,
        null,
      ],
      "type": "linear",
    },
  ],
  "type": "molecule",
}
`;

exports[`Betamethasone Integration Test generates valid code via toCode() 1`] = `
"export const v1 = Linear(['C']);
export const v2 = Ring({ atoms: 'C', size: 5 });
v2.metaPositions = [1, 2, 3, 20, 22];
v2.metaStart = 1;
v2.metaEnd = 22;
v2.attachments = { 4: [Linear(['C'])], 5: [Linear(['O'])] };
export const v5 = Ring({ atoms: 'C', size: 6, ringNumber: 2, offset: 2 });
v5.metaPositions = [3, 4, 15, 17, 19, 20];
v5.metaStart = 3;
v5.metaEnd = 20;
v5.attachments = { 3: [Linear(['F'])], 4: [Linear(['O'])], 6: [Linear(['C'])] };
export const v9 = Ring({ atoms: 'C', size: 6, ringNumber: 3 });
v9.metaPositions = [4, 5, 6, 7, 13, 15];
v9.metaStart = 4;
v9.metaEnd = 15;
v9.attachments = { 5: [Linear(['C'])], 6: [Linear(['F'])] };
export const v12 = Ring({ atoms: 'C', size: 6, ringNumber: 4, bonds: ['=', null, null, '=', null, null] });
v12.metaPositions = [7, 8, 9, 11, 12, 13];
v12.metaStart = 7;
v12.metaEnd = 13;
v12.attachments = { 3: [Linear(['O'], ['='])], 6: [Linear(['C'])] };
export const v15 = FusedRing([v2, v5, v9, v12], { skipPositionComputation: true });
v15.metaTotalAtoms = 17;
v15.metaAllPositions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 15, 17, 19, 20, 22];
v15.metaSequentialRings = [];
v15.metaBranchDepthMap = new Map([[1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [11, 0], [12, 0], [13, 0], [15, 0], [17, 0], [19, 0], [20, 0], [22, 0]]);
v15.metaParentIndexMap = new Map([[1, null], [2, null], [3, null], [4, null], [5, null], [6, null], [7, null], [8, null], [9, null], [11, null], [12, null], [13, null], [15, null], [17, null], [19, null], [20, null], [22, null]]);
v15.metaAtomValueMap = new Map([[1, 'C'], [2, 'C'], [3, 'C'], [4, 'C'], [5, 'C'], [6, 'C'], [7, 'C'], [8, 'C'], [9, 'C'], [11, 'C'], [12, 'C'], [13, 'C'], [15, 'C'], [17, 'C'], [19, 'C'], [20, 'C'], [22, 'C']]);
v15.metaBondMap = new Map([[1, null], [2, null], [3, null], [4, null], [5, null], [6, null], [7, null], [8, '='], [9, null], [11, null], [12, '='], [13, null], [15, null], [17, null], [19, null], [20, null], [22, null]]);
v15.metaRingOrderMap = new Map([[1, [1, 1]], [2, [1]], [3, [2, 2, 1]], [4, [3, 3, 2]], [5, [3]], [6, [3]], [7, [4, 4, 3]], [8, [4]], [9, [4]], [11, [4]], [12, [4]], [13, [4, 3]], [15, [3, 2]], [17, [2]], [19, [2]], [20, [2, 1]], [22, [1]]]);
v15.metaSeqAtomAttachments = new Map();
export const v16 = Linear(['C', 'C', 'O']);
export const v17 = Linear(['O'], ['=']);
export const v18 = v16.attach(v17, 1);
export const v19 = Molecule([v1, v15, v18]);"
`;
